// Just an example JS snippet:

const ports = [
  1024, 1058, 1059, 1080, 1085, 1098, 1099, 1140, 1169, 1176, 1182, 1194, 1198,
  1200, 1214, 1220, 1223, 1241, 1270, 1293, 1311, 1319, 1352, 1387, 1414, 1417,
  1418, 1419, 1420, 1431, 1433, 1434, 1470, 1494, 1512, 1513, 1524, 1533, 1547,
  1581, 1677, 1701, 1719, 1720, 1723, 1755, 1761, 1801, 1812, 1813, 1863, 1883,
  1900, 1935, 1947, 1970, 1971, 1972, 1984, 1985, 1994, 1998, 2000, 2031, 2053,
  2073, 2074, 2102, 2103, 2104, 2156, 2161, 2210, 2211, 2212, 2219, 2220, 2261,
  2262, 2369, 2370, 2404, 2420, 2427, 2447, 2483, 2484, 2500, 2501, 2518, 2612,
  2713, 2714, 2735, 2809, 2868, 2869, 2888, 2947, 2948, 2949, 2960, 3050, 3051,
  3074, 3225, 3233, 3235, 3260, 3268, 3269, 3283, 3300, 3305, 3306, 3384, 3386,
  3389, 3396, 3412, 3455, 3423, 3424, 3478, 3483, 3483, 3516, 3527, 3532, 3533,
  3540, 3544, 3605, 3606, 3632, 3671, 3689, 3690, 3702, 3735, 3880, 3868, 3888,
  3900, 3945, 3999, 4069, 4089, 4093, 4096, 4111, 4116, 4172, 4190, 4321, 4460,
  4500, 4569, 4662, 4728, 4753, 4789, 4840, 4843, 4847, 4894, 4899, 4949, 4950,
  5003, 5004, 5005, 5051, 5060, 5061, 5082, 5083, 5084, 5085, 5093, 5099, 5151,
  5151, 5154, 5190, 5222, 5246, 5247, 5269, 5298, 5351, 5353, 5355, 5402, 5405,
  5417, 5421, 5432, 5556, 5631, 5632, 5683, 5814, 5900, 5984, 5999, 6000, 6001,
  6086, 6110, 6111, 6112, 6129, 6343, 6346, 6347, 6350, 6419, 6432, 6444, 6445,
  6454, 6514, 6619, 6626, 6697, 7400, 7401, 7402, 7509, 7547, 7647, 7700, 8000,
  8016, 8051, 8088, 8118, 8123, 8243, 8280, 8400, 8423, 8442, 8444, 8728, 8729,
  8880, 8883, 8887, 8983, 8953, 8953, 9009, 9080, 9100, 9101, 9102, 9103, 9105,
  9119, 9287, 9306, 9312, 9418, 9522, 9535, 9536, 9600, 9695, 9898, 9996, 10008,
  10010, 10050, 10051, 10113, 10114, 10115, 10116, 11371, 12012, 12222, 12223,
  13008, 13076, 13724, 13782, 13783, 13785, 13786, 15345, 16992, 17500, 17500,
  18104, 19283, 19315, 19999, 22347, 22350, 22351, 24465, 24554, 25565, 26000,
  31457, 33434, 38000, 40000, 40001, 43047, 43048, 44818, 47808, 49151,
];

let rport;
while (true) {
  rport = parseInt(Math.random() * (49151 - 1024 + 1), 10) + 1024;
  if (!ports.includes(rport)) {
    break;
  }
}

console.log('Non-reserved port in the range 1024 to 49151: ' + rport);
